(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{150:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),b=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},s=function(e){var t=b(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),s=b(n),u=a,m=s["".concat(o,".").concat(u)]||s[u]||d[u]||i;return n?r.a.createElement(m,c(c({ref:t},p),{},{components:n})):r.a.createElement(m,c({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=u;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var p=2;p<i;p++)o[p]=n[p];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},90:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return b}));var a=n(3),r=n(7),i=(n(0),n(150)),o={id:"preview",title:"Preview",sidebar_label:"Preview"},c={unversionedId:"ricos/preview",id:"ricos/preview",isDocsHomePage:!1,title:"Preview",description:"Introduction",source:"@site/docs/ricos/Preview.mdx",slug:"/ricos/preview",permalink:"/ricos/docs/ricos/preview",version:"current",sidebar_label:"Preview",sidebar:"ricos",previous:{title:"Theming",permalink:"/ricos/docs/ricos/theming"},next:{title:"Keyboard Shortcuts",permalink:"/ricos/docs/ricos/keyboard_shortcuts"}},l=[{value:"Introduction",id:"introduction",children:[]},{value:"Example",id:"example",children:[]},{value:"Tweaking the Preview",id:"tweaking-the-preview",children:[{value:"<code>transformation</code>",id:"transformation",children:[]},{value:"<code>contentInteractionMappers</code>",id:"contentinteractionmappers",children:[]},{value:"<code>onPreviewExpand</code>",id:"onpreviewexpand",children:[]}]}],p={toc:l};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"introduction"},"Introduction"),Object(i.b)("p",null,"Ricos editor is able to switch between several modes of previewing content that is being created within the editor itself."),Object(i.b)("p",null,"A similar concept is sometimes used in social media applications (like previewing how a website link would expand into a card, or how user-generated text would look on a background). The Preview mode creates a shortened content display, ready to be expanded and is based on rules that can be modified."),Object(i.b)("p",null,"The core idea is to transform the content state and to display it within ",Object(i.b)("inlineCode",{parentName:"p"},"RicosViewer"),". This transformation is a product of content state metadata and a set of rules defined by the consumer."),Object(i.b)("p",null,"It's really best to see it in action, and we suggest you check out visual examples on our ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"http://rich-content-storybook-master.surge.sh/?path=/story/preview--rules"}),"storybook page"),"."),Object(i.b)("h2",{id:"example"},"Example"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"{9}","{9}":!0}),"import { createPreview } from 'wix-rich-content-preview';\nimport 'wix-rich-content-preview/dist/styles.min.css\n//\n//\nrender() {\n  const { content } = this.props;\n  return (\n    <RicosViewer\n      content={content}\n      preview={createPreview()}\n    />\n  );\n}\n")),Object(i.b)("hr",null),Object(i.b)("h2",{id:"tweaking-the-preview"},"Tweaking the Preview"),Object(i.b)("p",null,"There are 3 fields which can be configured (optional):"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),"createPreview({ transformation, contentInteractionMappers, onPreviewExpand });\n")),Object(i.b)("h3",{id:"transformation"},Object(i.b)("inlineCode",{parentName:"h3"},"transformation")),Object(i.b)("p",null,"The transformation consists of:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"the predicate the content metadata is tested for"),Object(i.b)("li",{parentName:"ul"},"an action to perform if the predicate returns ",Object(i.b)("inlineCode",{parentName:"li"},"true"))),Object(i.b)("p",null,"Example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"\n  _if: metadata => metadata.images.length >= 4,\n  _then: (metadata, preview) => preview.gallery({\n      items: metadata.images.slice(0, 4),\n      config: { layout: 'grid', imageWidth: 40 }\n  }).imageCounter({ counter: metadata.images.length - 4 })\n\n")),Object(i.b)("p",null,'The example above defines the following transformation rule: "if content contains more than 4 images, the preview should display four of them as a grid gallery with image counter above the last image".'),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"default value: ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/wix/ricos/blob/master/packages/preview/web/src/Components/default-transformation.ts"}),"Default Transformation"))),Object(i.b)("hr",null),Object(i.b)("h3",{id:"contentinteractionmappers"},Object(i.b)("inlineCode",{parentName:"h3"},"contentInteractionMappers")),Object(i.b)("p",null,"Allows passing interaction mappings, similar to ",Object(i.b)("inlineCode",{parentName:"p"},"typeMappers")," and ",Object(i.b)("inlineCode",{parentName:"p"},"inlineStyleMappers"),"."),Object(i.b)("h4",{id:"content-interactions"},"Content Interactions"),Object(i.b)("p",null,"Content interactions indicate that the preview content is collapsed and provide a way to expand it. Content interactions work at a block level and every interaction comprises the following elements:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"The ",Object(i.b)("inlineCode",{parentName:"p"},"preview")," builder parameter - allows adding an interaction to the preview state and configuring it."),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"\n  preview.plain('some looong text').readMore({ lines: 5 }).image({ mediaInfo: {...} })\n\n")),Object(i.b)("p",{parentName:"li"},"In the example above, the ",Object(i.b)("inlineCode",{parentName:"p"},"readMore")," interaction is being applied to the previous ",Object(i.b)("inlineCode",{parentName:"p"},"plain")," block.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"block data interactions array")," - contains configuration data for all interactions applied to the block")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"UI component")," - defines the appearance of the interaction element"))),Object(i.b)("h5",{id:"predefined-interactions"},"Predefined Interactions"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"wix-rich-content-preview")," introduces three predefined interactions (which include both preview builder API and UI components): ",Object(i.b)("inlineCode",{parentName:"p"},"Image Counter"),", ",Object(i.b)("inlineCode",{parentName:"p"},"See Full Post"),", and ",Object(i.b)("inlineCode",{parentName:"p"},"Read More"),"."),Object(i.b)("h6",{id:"read-more"},"Read More"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Read More")," interaction shortens textual content to a set number of lines and appends an ellipsis at the end."),Object(i.b)("h6",{id:"see-full-post"},"See Full Post"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"See Full Post")," displays a text label over an overlay. Mouse click expands the full content."),Object(i.b)("h6",{id:"image-counter"},"Image Counter"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Image Counter")," displays hidden image counter. By default, the counter ",Object(i.b)("inlineCode",{parentName:"p"},"+N")," label is placed above the last visible image element. The image elements are selected by the ",Object(i.b)("inlineCode",{parentName:"p"},"role='img'")," attribute."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"default value: ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/wix/ricos/blob/master/packages/preview/web/src/Interactions/interactionMap.tsx"}),"Default Interaction Map"))),Object(i.b)("hr",null),Object(i.b)("h3",{id:"onpreviewexpand"},Object(i.b)("inlineCode",{parentName:"h3"},"onPreviewExpand")),Object(i.b)("p",null,"A callback that's triggered upon preview expand click. Occurs once in a viewer session."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"default value: undefined")))}b.isMDXComponent=!0}}]);